\section{Somme finite}
\begin{defin}
	Sia $a_k$ una successione. La somma della successione $a_k$ da $m$ a $n$ è così definita:
	\[
		\sum_{k=m}^n a_k:= a_m+a_{m+1}+\dots+a_{n-1}+a_n
	\]
\end{defin}


\subsection{Cenni sulla primitiva discreta}
\label{sum:tele}
Data una somma finita che ha per argomento una successione $a_n$:
\[
	\sum_{j=m}^n a_j
\]
Se si riesce a esprimere la successione $a_n$ tramite un'altra successione $b_n$ tale che $a_j=b_{j+1}-b_j$ allora vale:
\[
	\sum_{j=m}^n a_j=b_{n+1}-b_m
\]
Infatti:
\[
	\sum_{j=m}^n a_j=\sum_{j=m}^n b_{j+1}-b_j=b_{m+1}-b_m+b_{m+2}-b_{m+1}+b_{m+3}-b_{m+2}+\dots+b_{n+1}-b_n
\]
Come è facile notare, tutti i termini ad eccezione del secondo e del penultimo vengono semplificati (ogni termine vede il suo opposto dopo tre termini). La seconda somma dell'espressione è detta telescopica, in quanto i termini "centrali" vengono elisi. La successione $b_n$ è chiamata primitiva discreta di $a_n$: è evidente infatti l'analogia con la formula fondamentale del calcolo integrale (\vref{teor:ffci}).

\begin{examp}
	\[
		\sum_{k=1}^n\frac{1}{k+1}=
	\]
	Scomponendo per fratti semplici:
	\[
		=\sum_{k=1}^n\left(\frac{1}{k}-\frac{1}{k+1}\right)=1-\frac{1}{n+1}
	\]
	Questa somma è la somma parziale della serie di Mengoli.
\end{examp}


\subsection{Sostituzioni nel calcolo di somme}
Nel calcolo di somme è spesso utile applicare sostituzioni alla variabile. Ad esempio, di seguito si applica una sostituzione per calcolare la somma dell'ultimo esempio senza utilizzare la primitiva discreta:
\begin{examp}
	\[
		\sum_{k=1}^n\left(\frac{1}{k}-\frac{1}{k+1}\right)=\sum_{k=1}^n\frac{1}{k}-\sum_{k=1}^n\frac{1}{k+1}=
	\]
	Questa operazione è possibile in quanto vengono semplicemente applicate alla somma le proprietà dissociativa (nel dividere le due somme) e commutativa (nell'ordinarle). Si applica ora la sostituzione $j=k+1$ alla seconda somma. Poiché $j$ è una variabile muta per la relativa somma, è possibile poi ricondursi a $k$ senza modificare il risultato:
	\[
		=\sum_{k=1}^n\frac{1}{k}-\sum_{j=2}^{n+1}\frac{1}{j}=\sum_{k=1}^n\frac{1}{k}-\sum_{k=2}^{n+1}\frac{1}{k}=
	\]
	Rimane una differenza tra somme che sono uguali per $k\in[2,n]$, i quali valori vengono quindi elisi. Rimangono quindi i termini:
	\[
		=\frac{1}{1}-\frac{1}{n+1}
	\]
	Che coincide con il risultato trovato in precedenza.
\end{examp}

Tuttavia, non tutte le sostizioni possono essere applicate. È fondamentale che la distanza tra due $k$ successivi, detta risoluzione, rimanga invariata. Il seguente controesempio mostra che il risultato può cambiare se adottata una sostituzione che non soddisfa tale proprietà:
\begin{examp}
	\[
		\sum_{k=0}^n (-1)^{2k}=\sum_{k=0}^n 1 = n+1
	\]
	Mentre, usando la sostituzione $j=2k$:
	\[
		\sum_{k=0}^n (-1)^{2k}=\sum_{j=0}^{2n}(-1)^j=1-1+1-1+\dots+1=1
	\]
\end{examp}
Esistono quindi solo due sostituzioni applicabili: le traslazioni\footnote{Ancora una volta vi è un'analogia con gli integrali, dove solo con sostituzioni come traslazioni si ha $dt=dx$, altrimenti la risoluzione (che nel caso degli integrali tende però a $0$), cambia.} $k=k+c$ (dette anche \emph{shift}), e le inversioni $k=n-k$:
\begin{examp}
	\[
		\sum_{k=0}^n a_k=a_0+a_1+\dots+a_{n-1}+a_n
	\]
	Applicando $k=n-k$:
	\[
		\sum_{k=0}^n a_{n-k}=a_n+a_{n-1}+\dots+a_1+a_0
	\]
\end{examp}
L'ordine in cui gli addendi vengono valutati viene invertito, ma la somma non cambia.


\subsection{Somme di progressioni geometriche}
\label{sum:geompar}
Nella somma\footnote{Per notazione si pone $x^0=1$}
\[
	S_n=\sum_{k=0}^n x^k\qquad x\in\R
\]
l'argomento della sommatoria è una progressione geometrica (si veda il paragrafo \vref{succ:progr}), infatti vale $x^{k+1}=x*x^k$. Si veda ora la seguente manipolazione algebrica della somma $x*S_n$:
\[
	x*S_n=x\sum_{k=0}^n x^k=\sum_{k=0}^n x^{k+1}=\sum_{k=1}^{n+1} x^k
\]
Questa sommatoria differisce di due soli termini dalla somma iniziale:
\begin{gather*}
	\sum_{k=0}^n x^k=\sum_{k=1}^{n+1} x^k-x^{n+1}+x^0\\
	\text{ovvero}\\
	S_n=xS_n-x^{n+1}+1\\
	\text{raccogliendo $S_n$:}\\
	(x-1)S_n=x^{n+1}-1\\
	\text{per $x\neq1$:}\\
	S_n=\frac{x^{n+1}-1}{x-1}
\end{gather*}
Per $x=1$ vale invece, ovviamente, $S_n=n+1$. Quindi:
\begin{prop}[Somma di una progressione geometrica]
	\label{sum:geom}
	\[
		S_n(x)=
		\begin{cases}
			\frac{x^{n+1}-1}{n-1}\qquad & x\neq1 \\
			n+1\qquad                   & x=1
		\end{cases}
	\]
\end{prop}
Nonostante l'apparente discontinuità, la funzione dev'essere continua in quanto è polinomiale. Infatti\footnote{Calcolato usando il teorema di De L'Hôpital}:
\[
	\lim_{x\to1}\frac{x^{n+1}-1}{n-1}=n+1
\]


\subsection[Somma tramite derivata]{Utilizzo delle derivate per il calcolo di somme}
Si prenda in considerazione la semplice somma
\[
	R_n=\sum_{k=1}^n k
\]
Il risultato di questa somma è stato calcolato da Gauss con il seguente metodo. Si considerino la somma e la sua equivalente per inversione:
\[
	\begin{array}{cccccccccccc}
		R_n     & = & 1 & + & 2     & + & \dots & + & (n-1) & + & n \\
		R_{n-k} & = & n & + & (n-1) & + & \dots & + & 2     & + & 1
	\end{array}
\]
La somma di ciascuna coppia di termini incolonnati è uguale a $n+1$ per ognuna delle $n$ coppie di termini, il che significa che $2R_n=n(n+1)$, ovvero $R_n=\frac{n(n+1)}{2}$.

È possibile calcolare la somma utilizzando un metodo più sistematico e generale (benché in questo caso più complicato). Si consideri la funzione reale data dalla serie geometrica
\[
	S_n(x)=\sum_{k=0}^n x^k=\frac{x^{n+1}}{x-1}\qquad{x\neq1}
\]
come precedentemente dimostrato (paragrafo \ref{sum:geom}). Essendo la funzione polinomiale essa è derivabile\footnote{Si ricorda che la derivata di una somma è la somma delle derivate}:
\begin{gather}
	S_n'=D\sum_{k=0}^n x^k = \left(\frac{x^{n+1}}{x-1}\right)'\notag\\
	\label{eq:dergeom}
	\sum_{k=0}^n kx^{k-1}=\frac{(n+1)x^n(x-1)-x^{n+1}+1}{(x-1)^2}=\frac{nx^{n+1}-(n+1)x^n+1}{(x-1)^2}
\end{gather}
Si noti che questa somma ha come indice minimo $k=0$, tuttavia in tale indice l'argomento vale $0$, quindi è equivalente alla somma che parte dall'indice $k=1$. Inoltre, si noti che:
\[
	S_n'(1)=\sum_{k=1}^n k=R_n
\]
Tuttavia in $x=1$ la derivata così come calcolata nella \ref{eq:dergeom} non è definita. Si può comunque calcolarne il limite:
\begin{gather*}
	\lim_{x\to1} S_n'(x)=\lim_{x\to1} \frac{nx^{n+1}-(n+1)x^n+1}{(x-1)^2}=\\[1ex]
	\lim_{x\to1} \frac{n(n+1)x^n-(n+1)nx^{n-1}}{2(x-1)}=\\[1ex]
	\lim_{x\to1} \frac{n^2(n+1)x^{n-1}-(n+1)n(n-1)x^{n-2}}{2}=\\[1ex]
	\lim_{x\to1} \frac{n^2(n+1)-(n+1)n(n-1)}{2}=\frac{n(n+1)}{2}(n-(n-1))=\frac{n(n+1)}{2}
\end{gather*}
Poiché la funzione è continua, questo limite è uguale a $S_n'(1)$, a sua volta uguale a $R_n$.

\subsection{Somma dei primi \texorpdfstring{$n$}{n} quadrati}
Per calcolare la somma dei primi $n$ quadrati, si utilizza il metodo descritto al paragrafo \ref{sum:tele} per le somme telescopiche. L'obiettivo è trovare una primitiva discreta $b_k$ tale che
\begin{equation}
	\label{eq:primdisck2}
	k^2=b_{k+1}-b_k
\end{equation}
Essendo $b_n$ la primitiva discreta, la si cerca, se possibile, come polinomiale di grado superiore di $1$:
\begin{equation}
	\label{eq:primdisck2par}
	b_k=Ak^3+Bk^2+Ck
\end{equation}
dove il termine noto è irrilevante (analogo della costante integrativa). Per determinare i parametri, si sostituisce la (\ref{eq:primdisck2par}) nella (\ref{eq:primdisck2}):
\begin{gather*}
	b_k=A(k+1)^3+B(k+1)^2+C(k+1)-Ak^3-Bk^2-Ck=\\
	=3Ak^2+(3A+2B)k+(A+B+C)
\end{gather*}
Applicando il principio di identità dei polinomi:
\[
	\begin{cases}
		3A=1    \\
		3A+2B=0 \\
		A+B+C=0
	\end{cases}\Rightarrow
	\begin{cases}
		A=\frac{1}{3}  \\
		B=-\frac{1}{2} \\
		C=\frac{1}{6}
	\end{cases}
\]
Quindi:
\[
	b_k=\frac{k^3}{3}-\frac{k^2}{2}+\frac{k}{6}
\]
Applicando il metodo della somma telescopica:
\begin{gather*}
	\sum_{k=1}^n k^2=\sum_{k=1}^n(b_{k+1}-b_k)=b_{n+1}-b_1=\\[1ex]
	=\frac{(n+1)^3}{3}-\frac{(n+1)^2}{2}+\frac{n+1}{6}-\left(\frac{1}{3}-\frac{1}{2}+\frac{1}{6}\right)=\\[1ex]
	=\frac{n+1}{6}[2(n+1)^2-3(n+1)+1]=\frac{n(n+1)(2n+1)}{6}
\end{gather*}
